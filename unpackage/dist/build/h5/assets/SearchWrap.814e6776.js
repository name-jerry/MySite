import{o as e,c as a,h as t,d as n,p as s,q as o,w as l,y as u,F as r,z as c,u as i,A as f,b as p,t as d,Q as v,G as h,C as y,j as _,a as b,r as m,m as w,O as g,Y as k,T as O,n as S,i as j,P as C,J as M,K as I,H as T,I as P,a2 as x}from"./index-71d20d4b.js";const J=(e,a)=>{const t=e.__vccOpts||e;for(const[n,s]of a)t[n]=s;return t};var L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B(e){if(e.__esModule)return e;var a=e.default;if("function"==typeof a){var t=function e(){if(this instanceof e){var t=[null];t.push.apply(t,arguments);var n=Function.bind.apply(a,t);return new n}return a.apply(this,arguments)};t.prototype=a.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach((function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})})),t}const F=B(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));const H=J({},[["render",function(n,s){const o=t;return e(),a(o,{class:"mask"})}],["__scopeId","data-v-a7ddc64c"]]),N=J(n({__name:"Options",props:{options:{default:()=>[]},showMask:{type:Boolean,default:!0}},setup(n){const _=n;return(n,b)=>{const m=y,w=t,g=s(o("Mask"),H);return e(),a(w,{class:"options-wrap",onClick:b[1]||(b[1]=h((e=>n.$emit("select",e.target.dataset.item)),["stop"]))},{default:l((()=>[(e(!0),u(r,null,c(i(_).options,(t=>(e(),a(w,{key:t,class:"option","data-item":t},{default:l((()=>[t.fontIcon?(e(),a(m,{key:0,class:"icon",innerHTML:t.fontIcon},null,8,["innerHTML"])):f("",!0),p(m,{class:"item-title"},{default:l((()=>[d(v(t.title?t.title:t),1)])),_:2},1024)])),_:2},1032,["data-item"])))),128)),i(_).showMask?(e(),a(g,{key:0,onClick:b[0]||(b[0]=h((e=>n.$emit("cancel")),["stop"]))})):f("",!0)])),_:1})}}}),[["__scopeId","data-v-86035945"]]),V=J(n({__name:"SearchWrap",props:{autoShrink:{type:Boolean}},setup(n){const u=n,r=_();let c=b(!0);const f="optionsKey";let h=m([{label:"Can I Use",value:"https://caniuse.com/?search="},{label:"bing",value:"https://cn.bing.com/search?q="},{label:"菜鸟教学",value:"https://www.runoob.com/?s="},{label:"iconfont",value:"https://www.iconfont.cn/search/index?searchType=icon&q="}]),J=b(),L=b(0),q=b([]),B=b(!1),F=w((()=>!J.value&&u.autoShrink&&c.value)),H=b();function V(e){L.value=e.detail.value,c.value=!0}function $(){c.value=!1}function z(){B.value=!0}function D(e){H.value.click()}function K(){B.value=!1}function U(e){if(F.value)return e.preventDefault(),void M({title:"输入文字",icon:"none"});let a=J.value.replace(/(^\s+)|(\s+$)/g,"");""!=a&&function(e){let a=new Set([...q.value]);a.add(e),q.value=[...a],I(f,JSON.stringify(q.value))}(a)}function A(e){J.value=e}async function E(){if(!r.isLogin)return q.value=[];let e=T(f);return e?function(e){let a=new Set([...e]);q.value=[...a],I(f,JSON.stringify(q.value))}(JSON.parse(e)):void 0}return g((()=>{k((()=>r.isLogin),E,{immediate:!0})})),O((()=>{})),(n,u)=>{const r=P,f=s(o("Options"),N),_=y,b=x,m=t;return e(),a(m,{class:"search-wrap"},{default:l((()=>[p(m,{class:S(["search-box hover-shadow-input",{blank:i(F)}])},{default:l((()=>[p(r,{type:"text",class:"search","confirm-type":"search",onConfirm:D,modelValue:i(J),"onUpdate:modelValue":u[0]||(u[0]=e=>j(J)?J.value=e:J=e),onBlur:K,onFocus:z},null,8,["modelValue"]),p(f,{class:S(["options",{show:i(B)}]),options:i(q),"show-mask":!1,onSelect:A},null,8,["class","options"]),p(b,{onCancel:u[1]||(u[1]=e=>j(c)?c.value=!0:c=!0),onChange:V,onClick:$,mode:"selector",range:i(h),"range-key":"label",class:"tools"},{default:l((()=>[p(_,null,{default:l((()=>[d(v(i(h)[i(L)].label),1)])),_:1})])),_:1},8,["range"]),C("a",{ref_key:"btn",ref:H,href:i(h)[i(L)].value+i(J),onClick:U,target:"_blank",class:"btn hover-shadow-btn"},[p(_,{class:"icon-search"},{default:l((()=>[d("")])),_:1})],8,["href"])])),_:1},8,["class"])])),_:1})}}}),[["__scopeId","data-v-1e1649af"]]);export{J as _,N as a,V as b,L as c,H as d,q as g,F as r};
