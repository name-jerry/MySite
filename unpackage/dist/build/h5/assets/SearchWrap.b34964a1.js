import{o as e,c as t,h as a,d as n,p as o,q as s,w as l,y as c,F as r,z as u,u as i,A as f,b as p,t as d,Q as v,G as h,C as b,M as y,N as _,j as m,a as w,r as g,m as k,O,Y as j,T as S,n as C,i as M,P as L,J as I,K as T,H as x,I as P,a5 as U}from"./index-d6e17e3d.js";const B=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a};var J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var a=function e(){if(this instanceof e){var a=[null];a.push.apply(a,arguments);var n=Function.bind.apply(t,a);return new n}return t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),a}const $=R(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));const q=B({},[["render",function(n,o){const s=a;return e(),t(s,{class:"mask"})}],["__scopeId","data-v-a7ddc64c"]]),F=B(n({__name:"Options",props:{options:{default:()=>[]},showMask:{type:Boolean,default:!0}},setup(n){const y=n;return(n,_)=>{const m=b,w=a,g=o(s("Mask"),q);return e(),t(w,{class:"options-wrap",onClick:_[1]||(_[1]=h((e=>n.$emit("select",e.target.dataset.item)),["stop"]))},{default:l((()=>[(e(!0),c(r,null,u(i(y).options,(a=>(e(),t(w,{key:a,class:"option","data-item":a},{default:l((()=>[a.fontIcon?(e(),t(m,{key:0,class:"icon",innerHTML:a.fontIcon},null,8,["innerHTML"])):f("",!0),p(m,{class:"item-title"},{default:l((()=>[d(v(a.title?a.title:a),1)])),_:2},1024)])),_:2},1032,["data-item"])))),128)),i(y).showMask?(e(),t(g,{key:0,onClick:_[0]||(_[0]=h((e=>n.$emit("cancel")),["stop"]))})):f("",!0)])),_:1})}}}),[["__scopeId","data-v-86035945"]]);function H(e){y({title:"生成文件中"});const t=e.content,a=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(a),o=document.createElement("a");o.href=n;let s=e.title;/.*\.md$/.test(s)||(s+=".md"),o.download=s,document.body.appendChild(o),o.click(),URL.revokeObjectURL(n),o.remove(),_()}const V=B(n({__name:"SearchWrap",props:{autoShrink:{type:Boolean}},setup(n){const c=n,r=m();let u=w(!0);const f="optionsKey";let h=g([{label:"Can I Use",value:"https://caniuse.com/?search="},{label:"bing",value:"https://cn.bing.com/search?q="},{label:"菜鸟教学",value:"https://www.runoob.com/?s="},{label:"iconfont",value:"https://www.iconfont.cn/search/index?searchType=icon&q="}]),y=w(),_=w(0),B=w([]),J=w(!1),N=k((()=>!y.value&&c.autoShrink&&u.value)),R=w();function $(e){_.value=e.detail.value,u.value=!0}function q(){u.value=!1}function H(){J.value=!0}function V(e){R.value.click()}function z(){J.value=!1}function D(e){if(N.value)return e.preventDefault(),void I({title:"输入文字",icon:"none"});let t=y.value.replace(/(^\s+)|(\s+$)/g,"");""!=t&&function(e){let t=new Set([...B.value]);t.add(e),B.value=[...t],T(f,JSON.stringify(B.value))}(t)}function E(e){y.value=e}async function K(){if(!r.isLogin)return B.value=[];let e=x(f);return e?function(e){let t=new Set([...e]);B.value=[...t],T(f,JSON.stringify(B.value))}(JSON.parse(e)):void 0}return O((()=>{j((()=>r.isLogin),K,{immediate:!0})})),S((()=>{})),(n,c)=>{const r=P,f=o(s("Options"),F),m=b,w=U,g=a;return e(),t(g,{class:"search-wrap"},{default:l((()=>[p(g,{class:C(["search-box hover-shadow-input",{blank:i(N)}])},{default:l((()=>[p(r,{type:"text",class:"search","confirm-type":"search",onConfirm:V,modelValue:i(y),"onUpdate:modelValue":c[0]||(c[0]=e=>M(y)?y.value=e:y=e),onBlur:z,onFocus:H},null,8,["modelValue"]),p(f,{class:C(["options",{show:i(J)}]),options:i(B),"show-mask":!1,onSelect:E},null,8,["class","options"]),p(w,{onCancel:c[1]||(c[1]=e=>M(u)?u.value=!0:u=!0),onChange:$,onClick:q,mode:"selector",range:i(h),"range-key":"label",class:"tools"},{default:l((()=>[p(m,null,{default:l((()=>[d(v(i(h)[i(_)].label),1)])),_:1})])),_:1},8,["range"]),L("a",{ref_key:"btn",ref:R,href:i(h)[i(_)].value+i(y),onClick:D,target:"_blank",class:"btn hover-shadow-btn"},[p(m,{class:"icon-search"},{default:l((()=>[d("")])),_:1})],8,["href"])])),_:1},8,["class"])])),_:1})}}}),[["__scopeId","data-v-1e1649af"]]);export{B as _,F as a,V as b,J as c,H as d,q as e,N as g,$ as r};
