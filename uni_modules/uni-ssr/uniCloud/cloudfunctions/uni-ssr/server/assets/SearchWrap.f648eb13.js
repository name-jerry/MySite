import{View as e,Text as a,setStorageSync as t,getStorageSync as l,Input as n,Picker as o}from"@dcloudio/uni-h5";import{mergeProps as s,useSSRContext as c,defineComponent as u,resolveDynamicComponent as r,withCtx as i,unref as d,createTextVNode as p,toDisplayString as f,openBlock as m,createBlock as h,createCommentVNode as v,createVNode as _,Fragment as k,renderList as b,withModifiers as w,reactive as g,ref as y,onMounted as S,watch as x,onUnmounted as C,isRef as I}from"vue";import{ssrRenderComponent as M,ssrRenderList as V,ssrInterpolate as O,ssrRenderAttr as $}from"vue/server-renderer";import{resolveEasycom as L}from"@dcloudio/uni-app";import{u as U}from"../entry-server.mjs";const B=(e,a)=>{const t=e.__vccOpts||e;for(const[l,n]of a)t[l]=n;return t},T={};const H=T.setup;T.setup=(e,a)=>{const t=c();return(t.modules||(t.modules=new Set)).add("components/Mask/Mask.vue"),H?H(e,a):void 0};const F=B(T,[["ssrRender",function(a,t,l,n){t(M(e,s({class:"mask"},n),null,l))}],["__scopeId","data-v-a7ddc64c"]]),J=u({__name:"Options",__ssrInlineRender:!0,props:{options:{default:()=>[]},showMask:{type:Boolean,default:!0}},setup(t){const l=t;return(t,n,o,c)=>{const u=e,g=a,y=L(r("Mask"),F);n(M(u,s({class:"options-wrap",onClick:e=>t.$emit("select",e.target.dataset.item)},c),{default:i(((e,a,n,o)=>{if(!a)return[(m(!0),h(k,null,b(d(l).options,(e=>(m(),h(u,{key:e,class:"option","data-item":e},{default:i((()=>[e.fontIcon?(m(),h(g,{key:0,class:"icon",innerHTML:e.fontIcon},null,8,["innerHTML"])):v("",!0),_(g,{class:"item-title"},{default:i((()=>[p(f(e.title?e.title:e),1)])),_:2},1024)])),_:2},1032,["data-item"])))),128)),d(l).showMask?(m(),h(y,{key:0,onClick:w((e=>t.$emit("cancel")),["stop"])},null,8,["onClick"])):v("",!0)];a("\x3c!--[--\x3e"),V(d(l).options,(e=>{a(M(u,{class:"option","data-item":e},{default:i(((a,t,l,n)=>{if(!t)return[e.fontIcon?(m(),h(g,{key:0,class:"icon",innerHTML:e.fontIcon},null,8,["innerHTML"])):v("",!0),_(g,{class:"item-title"},{default:i((()=>[p(f(e.title?e.title:e),1)])),_:2},1024)];e.fontIcon?t(M(g,{class:"icon"},null,l,n)):t("\x3c!----\x3e"),t(M(g,{class:"item-title"},{default:i(((a,t,l,n)=>{if(!t)return[p(f(e.title?e.title:e),1)];t(`${O(e.title?e.title:e)}`)})),_:2},l,n))})),_:2},n,o))})),a("\x3c!--]--\x3e"),d(l).showMask?a(M(y,{onClick:e=>t.$emit("cancel")},null,n,o)):a("\x3c!----\x3e")})),_:1},o))}}}),N=J.setup;J.setup=(e,a)=>{const t=c();return(t.modules||(t.modules=new Set)).add("components/Options/Options.vue"),N?N(e,a):void 0};const R=B(J,[["__scopeId","data-v-86035945"]]),W=u({__name:"SearchWrap",__ssrInlineRender:!0,props:{autoShrink:{type:Boolean}},setup(c){const u=c,m=U(),h="optionsKey";let v=g([{label:"Can I Use",value:"https://caniuse.com/?search="},{label:"bing",value:"https://cn.bing.com/search?q="},{label:"菜鸟教学",value:"https://www.runoob.com/?s="},{label:"iconfont",value:"https://www.iconfont.cn/search/index?searchType=icon&q="}]),k=y(),b=y(0),w=y([]),V=y(!1),B=y();function T(){V.value=!0}function H(e){B.value.click()}function F(){V.value=!1}function J(){let e=k.value.replace(/(^\s+)|(\s+$)/g,"");""!=e&&function(e){let a=new Set([...w.value]);a.add(e),w.value=[...a],t(h,JSON.stringify(w.value))}(e)}function N(e){k.value=e}async function W(){if(!m.isLogin)return w.value=[];let e=l(h);return e?function(e){let a=new Set([...e]);w.value=[...a],t(h,JSON.stringify(w.value))}(JSON.parse(e)):void 0}return S((()=>{x((()=>m.isLogin),W,{immediate:!0})})),C((()=>{})),(t,l,c,m)=>{const h=e,g=n,y=L(r("Options"),R),S=o,x=a;l(M(h,s({class:"search-wrap"},m),{default:i(((e,a,t,l)=>{if(!a)return[_(h,{class:["search-box hover-shadow-input",{blank:!d(k)&&d(u).autoShrink}]},{default:i((()=>[_(g,{type:"text",class:"search","confirm-type":"search",onConfirm:H,modelValue:d(k),"onUpdate:modelValue":e=>I(k)?k.value=e:k=e,onBlur:F,onFocus:T},null,8,["modelValue","onUpdate:modelValue"]),_(y,{class:["options",{show:d(V)}],options:d(w),"show-mask":!1,onSelect:N},null,8,["class","options"]),_(S,{onChange:e=>{I(b)?b.value=e.detail.value:b=e.detail.value},mode:"selector",range:d(v),"range-key":"label",class:"tools"},{default:i((()=>[_(x,null,{default:i((()=>[p(f(d(v)[d(b)].label),1)])),_:1})])),_:1},8,["onChange","range"]),_("a",{ref_key:"btn",ref:B,href:d(v)[d(b)].value+d(k),onClick:J,target:"_blank",class:"btn hover-shadow-btn"},[_(x,{class:"icon-search"},{default:i((()=>[p("")])),_:1})],8,["href"])])),_:1},8,["class"])];a(M(h,{class:["search-box hover-shadow-input",{blank:!d(k)&&d(u).autoShrink}]},{default:i(((e,a,t,l)=>{if(!a)return[_(g,{type:"text",class:"search","confirm-type":"search",onConfirm:H,modelValue:d(k),"onUpdate:modelValue":e=>I(k)?k.value=e:k=e,onBlur:F,onFocus:T},null,8,["modelValue","onUpdate:modelValue"]),_(y,{class:["options",{show:d(V)}],options:d(w),"show-mask":!1,onSelect:N},null,8,["class","options"]),_(S,{onChange:e=>{I(b)?b.value=e.detail.value:b=e.detail.value},mode:"selector",range:d(v),"range-key":"label",class:"tools"},{default:i((()=>[_(x,null,{default:i((()=>[p(f(d(v)[d(b)].label),1)])),_:1})])),_:1},8,["onChange","range"]),_("a",{ref_key:"btn",ref:B,href:d(v)[d(b)].value+d(k),onClick:J,target:"_blank",class:"btn hover-shadow-btn"},[_(x,{class:"icon-search"},{default:i((()=>[p("")])),_:1})],8,["href"])];a(M(g,{type:"text",class:"search","confirm-type":"search",onConfirm:H,modelValue:d(k),"onUpdate:modelValue":e=>I(k)?k.value=e:k=e,onBlur:F,onFocus:T},null,t,l)),a(M(y,{class:["options",{show:d(V)}],options:d(w),"show-mask":!1,onSelect:N},null,t,l)),a(M(S,{onChange:e=>{I(b)?b.value=e.detail.value:b=e.detail.value},mode:"selector",range:d(v),"range-key":"label",class:"tools"},{default:i(((e,a,t,l)=>{if(!a)return[_(x,null,{default:i((()=>[p(f(d(v)[d(b)].label),1)])),_:1})];a(M(x,null,{default:i(((e,a,t,l)=>{if(!a)return[p(f(d(v)[d(b)].label),1)];a(`${O(d(v)[d(b)].label)}`)})),_:1},t,l))})),_:1},t,l)),a(`<a${$("href",d(v)[d(b)].value+d(k))} target="_blank" class="btn hover-shadow-btn" data-v-becca741${l}>`),a(M(x,{class:"icon-search"},{default:i(((e,a,t,l)=>{if(!a)return[p("")];a("")})),_:1},t,l)),a("</a>")})),_:1},t,l))})),_:1},c))}}}),q=W.setup;W.setup=(e,a)=>{const t=c();return(t.modules||(t.modules=new Set)).add("components/SearchWrap/SearchWrap.vue"),q?q(e,a):void 0};const j=B(W,[["__scopeId","data-v-becca741"]]);export{B as _,R as a,j as b,F as c};
